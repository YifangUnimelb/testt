<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yifang">

<title>Macroeconometrics Research Report - Forecasting Inflation and Interest Rate in Australia</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Macroeconometrics Research Report</span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#time-series-plot" id="toc-time-series-plot" class="nav-link" data-scroll-target="#time-series-plot">Time Series Plot</a></li>
  <li><a href="#acf-and-pacf" id="toc-acf-and-pacf" class="nav-link" data-scroll-target="#acf-and-pacf">ACF and PACF</a></li>
  <li><a href="#augmented-dickey-fuller" id="toc-augmented-dickey-fuller" class="nav-link" data-scroll-target="#augmented-dickey-fuller">Augmented Dickey-Fuller</a></li>
  </ul></li>
  <li><a href="#model" id="toc-model" class="nav-link" data-scroll-target="#model">Model</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Forecasting Inflation and Interest Rate in Australia</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Yifang </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p><strong>Abstract.</strong> This paper forecasts Australian inflation and interest rate using Bayesian Vector Regressive Model with Stochastic Volatility and a multivariate-t distributed error, with the purpose of allowing time varying volatility and capturing sudden increase in volatility during extreme period such as COVID-19.It is an application of such method, which is suggested as a significant improvement over a standard BVAR, to the Australian macroeconomic variables to generate spot and density forecast using post-COVID data.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong>Keywords.</strong> BVARs, Stochastic Volatility, t-distributed error, inflation, interest rate, Australian economy</p>
</blockquote>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p><strong>Objective:</strong> This paper aims to forecast Australian short term interest rate and inflation. It follows the method in Hartwig(2022), using a BVAR-SV model with its error covariance matrix being multivariate-t distribution.</p>
<p><strong>Question:</strong> Can the model suggested produce reliable spot and density forecast for Australian inflation and interest rate?</p>
<p><strong>Motivation:</strong> Volatility variation across time in macroeconomic variables is widely explored in literature(Bloom,2014), which the standard Gaussian error modeling may fail to capture and then leads to unreliable results. Hartwig(2022) suggests that several BVAR models with modified volatility distribution which differentiate from the standard Gaussian perform better under likelihood measurement. The best fitting one with post-COVID19 data is BVAR-t-SV. The stochastic process captures the time persistence of volatility, which is evident in variables such as short term interest rate(Ball and Torous,1999). A multivariate-t distributed error, with relatively fatter tails, can recognize some extreme volatility as temporary spikes instead of persistent effect. The forecast focus on inflation and interest rate due to their strong relevance to policy making and people’s daily lives. Many challenges arise post-COVID for government to facilitate the revitalization of the economy, where forecast plays its roles.</p>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>All data is obtained from the RBA. Daily or monthly data is converted to quarterly format by averaging. Following Chan(2020), other than cash rate and unemployment, variables will be transformed using log difference times 400 in BVAR as a form of growth. These are some standard variables to include in a macroeconomics forecast:</p>
<p><strong>Cash rate:</strong> the cash rate target in percent (series_id:FIRMMCRTD)</p>
<p><strong>Money aggregate(M1):</strong> the seasonal adjusted M1 aggregate in $billion (series_id:DMAM1S)</p>
<p><strong>Money aggregate(M3):</strong> the seasonal adjusted M3 aggregate in $billion (series_id:DMAM3S)</p>
<p><strong>Consumer Price Index</strong> Consumer Price Index (series_id:GCPIAG)</p>
<p><strong>Real GDP:</strong> Gross Domestic Product in real terms in $million (series_id:GGDPCVGDP)</p>
<p><strong>Unemployment:</strong> Unemployment rate in percent (series_id:GLFSUPSA)</p>
<p>The data window covers 1990 Q1 to 2023 Q4, as the most up-to-date post-COVID data in Australia, similar to Hartwig(2022). Cash rate, real GDP and unemployment rate are very standard variables to include while doing forecast with inflation as the cyclical variables(eg.Stock and Watson(1999)). Money aggregate as a supply side driver for commodity price, are included as well(eg. Dhakal et al(1994)).</p>
<section id="time-series-plot" class="level2">
<h2 class="anchored" data-anchor-id="time-series-plot">Time Series Plot</h2>
<p>The following are the time series plot of raw CPI, real GDP, M1 and M3 monetary aggregate, unemployment rate and cash rate on quarterly basis. Note the former 4 variables all display a clear growth trend. Unemployment and cash rate are generally decreasing with fluctuations.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/times series raw-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The 400 times log difference of CPI, real GDP, M1 and M3 aggregate were plotted here. They seem stationary around a fixed mean. This will be tested later.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/time series log-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="acf-and-pacf" class="level2">
<h2 class="anchored" data-anchor-id="acf-and-pacf">ACF and PACF</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/ACF-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/PACF-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="augmented-dickey-fuller" class="level2">
<h2 class="anchored" data-anchor-id="augmented-dickey-fuller">Augmented Dickey-Fuller</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  data_trans$cpi_log
Dickey-Fuller = -3.8653, Lag order = 5, p-value = 0.01796
alternative hypothesis: stationary</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  data_trans$gdp_log
Dickey-Fuller = -5.762, Lag order = 5, p-value = 0.01
alternative hypothesis: stationary</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  data_trans$m1_log
Dickey-Fuller = -3.7918, Lag order = 5, p-value = 0.02154
alternative hypothesis: stationary</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  data_trans$m3_log
Dickey-Fuller = -2.9958, Lag order = 5, p-value = 0.1622
alternative hypothesis: stationary</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  data_trans$cr
Dickey-Fuller = -4.3135, Lag order = 5, p-value = 0.01
alternative hypothesis: stationary</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Augmented Dickey-Fuller Test

data:  data_trans$un_em
Dickey-Fuller = -2.4522, Lag order = 5, p-value = 0.3884
alternative hypothesis: stationary</code></pre>
</div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ADF_stats</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">p_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CPI_log</td>
<td style="text-align: left;">-3.8653</td>
<td style="text-align: left;">0.01796</td>
</tr>
<tr class="even">
<td style="text-align: left;">GDP_log</td>
<td style="text-align: left;">-5.765</td>
<td style="text-align: left;">0.01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">M1_log</td>
<td style="text-align: left;">-3.7918</td>
<td style="text-align: left;">0.02154</td>
</tr>
<tr class="even">
<td style="text-align: left;">M3_log</td>
<td style="text-align: left;">-2.9958</td>
<td style="text-align: left;">0.1622</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cash rate</td>
<td style="text-align: left;">-4.3135</td>
<td style="text-align: left;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Unemployment</td>
<td style="text-align: left;">-2.4522</td>
<td style="text-align: left;">0.3884</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="model" class="level1">
<h1>Model</h1>
<p>Here presents the Bayesian VAR with Stochastic Student-t volatility, the general form of a VAR(p):</p>
<p><span class="math display">\[y_t = a_0 +A_1y_{t-1}+...+A_py_{t-p}+ \epsilon_t \]</span></p>
<p>where <span class="math inline">\(y_t\)</span> is a <span class="math inline">\(n \times 1\)</span> vector and <span class="math inline">\(n\)</span> is the number of variables. <span class="math inline">\(a_0\)</span> is the <span class="math inline">\(n \times 1\)</span> intercept vector. <span class="math inline">\(A_p\)</span> is <span class="math inline">\(n \times n\)</span> coefficient matrix for each lag order <span class="math inline">\(p\)</span>. Put it in compact matrix notation:</p>
<p><span class="math display">\[Y = XA+E\]</span> where <span class="math inline">\(Y_{T \times n}=(y_1', y_2',...,y_T')'\)</span>, <span class="math inline">\(X_{T \times K}=(x_1', x_2',...,x_T')'\)</span>. Each <span class="math inline">\(x_{K \times 1}=(1, y_{t-1}',...,y_{t-p}')'\)</span>. <span class="math inline">\(A\)</span> is a compact coefficient matrix <span class="math inline">\(A_{K \times n}=(a_0', A_1',...,A_p')'\)</span> and <span class="math inline">\(E_{T \times n}=(\epsilon_1', \epsilon_2',...,\epsilon_T')'\)</span>. Note, <span class="math inline">\(K = 1+pn\)</span>.</p>
<p>In standard form, the error term is normally distributed <span class="math inline">\(\epsilon_t \sim iidN(0, \Sigma)\)</span>, or <span class="math inline">\(E \sim MN(0, \Sigma \otimes I_T)\)</span>. <span class="math inline">\(\Sigma\)</span> is a <span class="math inline">\(n \times n\)</span> covariance matrix and <span class="math inline">\(I_T\)</span> is an <span class="math inline">\(T \times T\)</span> identity matrix. In this paper, following Hartwig(2022), I use the specification:</p>
<p><span class="math display">\[\epsilon_t \sim N(0, \Sigma \cdot \lambda_t \cdot exp(h_t))\]</span></p>
<p>where <span class="math inline">\(\lambda_t \sim IG(\nu/2,\nu/2)\)</span> and <span class="math inline">\(h_t\)</span> follows: <span class="math inline">\(h_t = \rho h_{t-1}+ \epsilon^{h}_{t}\)</span>, with <span class="math inline">\(|\rho|&lt; 1\)</span> and <span class="math inline">\(\epsilon^{h}_{t} \sim N(0, \sigma^{2}_h)\)</span>. Then the compact distribution of <span class="math inline">\(E \sim MN(0,\Sigma \otimes \Omega)\)</span>.</p>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Ball, C. A., &amp; Torous, W. N. (1999). The Stochastic Volatility of Short-Term Interest Rates: Some International Evidence. <em>The Journal of Finance, 54(6), 2339–2359</em>. http://www.jstor.org/stable/797997</p>
<p>Bloom, N. (2014). “Fluctuations in Uncertainty.” <em>Journal of Economic Perspectives, 28 (2): 153-76.</em> DOI: 10.1257/jep.28.2.153</p>
<p>Chan, J. C. C. (2020). Large Bayesian VARs: A Flexible Kronecker Error Covariance Structure. <em>Journal of Business &amp; Economic Statistics, 38(1), 68–79.</em> https://doi.org/10.1080/07350015.2018.1451336</p>
<p>Hartwig, B(2022). Bayesian Vars and Prior Calibration in Times of COVID-19. <em>Deutsche Bundesbank Discussion Paper No.&nbsp;52/2022</em>. https://dx.doi.org/10.2139/ssrn.4350794</p>
<p>Stock, H. J., &amp; Watson, W. M. (1999). Forecasting Inflation. <em>Journal of Monetary Economics, 44(2), 293–335</em>. https://doi.org/10.1016/S0304-3932(99)00027-6</p>
<p>Dhakal, D., &amp; Kandil, M.&amp;Sharma, S,C. &amp;Trescott, P,B. (1994). Determinants of the inflation rate in the United States: A VAR investigation. <em>The Quarterly Review of Economics and Finance 34(1), 95-112</em>. https://doi.org/10.1016/1062-9769(94)90055-8</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>